<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Week 10 Map</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/white.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

    <link href="https://fonts.googleapis.com/css?family=Questrial" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@4"></script>

    <link rel="stylesheet/less" type="text/css" href="styles.less" />

</head>

<body style="overflow-y: scroll;">

    <h1>Week 9 Layer example</h1>
    <h3>Game character attributes</h3>

    <div id="vis"></div>

    <script type="text/javascript">
        var yourVlSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
            "data": {
                "name": "characters",
                "values": [
                    {
                        "name": "Bilbo",
                        "constitution": 10,
                        "agility": 15,
                        "dexterity": 18,
                        "wisdom": 6,
                        "intelligence": 10,
                        "strength": 9,
                        "maxhitpoints": 20,
                        "hitpoints": 15
                    },
                    {
                        "name": "Gandalf",
                        "constitution": 9,
                        "agility": 12,
                        "dexterity": 18,
                        "wisdom": 18,
                        "intelligence": 18,
                        "strength": 5,
                        "maxhitpoints": 35,
                        "hitpoints": 30
                    },
                    {
                        "name": "Galadriel",
                        "constitution": 18,
                        "agility": 18,
                        "dexterity": 18,
                        "wisdom": 18,
                        "intelligence": 18,
                        "strength": 9,
                        "maxhitpoints": 35,
                        "hitpoints": 34
                    },
                    {
                        "name": "Elrond",
                        "constitution": 5,
                        "agility": 4,
                        "dexterity": 1,
                        "wisdom": 18,
                        "intelligence": 1,
                        "strength": 4,
                        "maxhitpoints": 40,
                        "hitpoints": 10
                    }
                ]
            },
            "vconcat": [
                {
                    "layer": [
                        {
                            "mark": "bar",
                            "encoding": {
                                "x": {
                                    "field": "name",
                                    "type": "nominal"
                                },
                                "y": {
                                    "field": "maxhitpoints",
                                    "type": "quantitative"
                                },
                                "color": {
                                    "value": "#FF0000"
                                },
                                "opacity": {
                                    "value": 1.0
                                }
                            }
                        },
                        {
                            "mark": "bar",
                            "encoding": {
                                "x": {
                                    "field": "name",
                                    "type": "nominal"
                                },
                                "y": {
                                    "field": "hitpoints",
                                    "type": "quantitative"
                                },
                                "color": {
                                    "value": "#00FF00"
                                },
                                "opacity": {
                                    "value": 0.5
                                }
                            }
                        }
                    ]
                },
                {
                    "transform": [
                        {
                            "fold": ["strength", "agility", "intelligence", "constitution", "wisdom", "dexterity"]
                        }
                    ],
                    "title": "row",
                    "mark": "rect",
                    "encoding": {
                        "x": {
                            "field": "key",
                            "type": "nominal"
                        },
                        "y": {
                            "field": "name",
                            "type": "nominal"
                        },
                        "color": {
                            "field": "value",
                            "type": "quantitative"
                        }
                    }
                }
            ]
        };
        vegaEmbed('#vis', yourVlSpec);
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js"></script>
</body>

</html>